import rgb from "./rgb";
import hsl from "./hsl";

export default function(format) {
  var m;
  format = (format + "").trim().toLowerCase();
  return (m = /^#([0-9a-f]{3})$/.exec(format)) ? (m = parseInt(m[1], 16), rgb((m & 0xf00) >> 8 | (m & 0xf00) >> 4, (m & 0xf0) >> 4 | (m & 0xf0), (m & 0xf) << 4 | (m & 0xf))) // #f00
      : (m = /^#([0-9a-f]{6})$/.exec(format)) ? (m = parseInt(m[1], 16), rgb((m & 0xff0000) >> 16, (m & 0xff00) >> 8, m & 0xff)) // #ff0000
      : (m = /^rgb\s*\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/.exec(format)) ? rgb(m[1], m[2], m[3]) // rgb(255,0,0)
      : (m = /^rgb\s*\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/.exec(format)) ? rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100) // rgb(100%,0%,0%)
      : (m = /^hsl\s*\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/.exec(format)) ? hsl(m[1], m[2] / 100, m[3] / 100) // hsl(120,50%,50%)
      : named.has(format) ? named.get(format).rgb()
      : null;
};

function rgbn(n) {
  return rgb((n & 0xff0000) >> 16, (n & 0xff00) >> 8, n & 0xff);
}

var named = (new Map)
  .set("aliceblue", rgbn(0xf0f8ff))
  .set("antiquewhite", rgbn(0xfaebd7))
  .set("aqua", rgbn(0x00ffff))
  .set("aquamarine", rgbn(0x7fffd4))
  .set("azure", rgbn(0xf0ffff))
  .set("beige", rgbn(0xf5f5dc))
  .set("bisque", rgbn(0xffe4c4))
  .set("black", rgbn(0x000000))
  .set("blanchedalmond", rgbn(0xffebcd))
  .set("blue", rgbn(0x0000ff))
  .set("blueviolet", rgbn(0x8a2be2))
  .set("brown", rgbn(0xa52a2a))
  .set("burlywood", rgbn(0xdeb887))
  .set("cadetblue", rgbn(0x5f9ea0))
  .set("chartreuse", rgbn(0x7fff00))
  .set("chocolate", rgbn(0xd2691e))
  .set("coral", rgbn(0xff7f50))
  .set("cornflowerblue", rgbn(0x6495ed))
  .set("cornsilk", rgbn(0xfff8dc))
  .set("crimson", rgbn(0xdc143c))
  .set("cyan", rgbn(0x00ffff))
  .set("darkblue", rgbn(0x00008b))
  .set("darkcyan", rgbn(0x008b8b))
  .set("darkgoldenrod", rgbn(0xb8860b))
  .set("darkgray", rgbn(0xa9a9a9))
  .set("darkgreen", rgbn(0x006400))
  .set("darkgrey", rgbn(0xa9a9a9))
  .set("darkkhaki", rgbn(0xbdb76b))
  .set("darkmagenta", rgbn(0x8b008b))
  .set("darkolivegreen", rgbn(0x556b2f))
  .set("darkorange", rgbn(0xff8c00))
  .set("darkorchid", rgbn(0x9932cc))
  .set("darkred", rgbn(0x8b0000))
  .set("darksalmon", rgbn(0xe9967a))
  .set("darkseagreen", rgbn(0x8fbc8f))
  .set("darkslateblue", rgbn(0x483d8b))
  .set("darkslategray", rgbn(0x2f4f4f))
  .set("darkslategrey", rgbn(0x2f4f4f))
  .set("darkturquoise", rgbn(0x00ced1))
  .set("darkviolet", rgbn(0x9400d3))
  .set("deeppink", rgbn(0xff1493))
  .set("deepskyblue", rgbn(0x00bfff))
  .set("dimgray", rgbn(0x696969))
  .set("dimgrey", rgbn(0x696969))
  .set("dodgerblue", rgbn(0x1e90ff))
  .set("firebrick", rgbn(0xb22222))
  .set("floralwhite", rgbn(0xfffaf0))
  .set("forestgreen", rgbn(0x228b22))
  .set("fuchsia", rgbn(0xff00ff))
  .set("gainsboro", rgbn(0xdcdcdc))
  .set("ghostwhite", rgbn(0xf8f8ff))
  .set("gold", rgbn(0xffd700))
  .set("goldenrod", rgbn(0xdaa520))
  .set("gray", rgbn(0x808080))
  .set("green", rgbn(0x008000))
  .set("greenyellow", rgbn(0xadff2f))
  .set("grey", rgbn(0x808080))
  .set("honeydew", rgbn(0xf0fff0))
  .set("hotpink", rgbn(0xff69b4))
  .set("indianred", rgbn(0xcd5c5c))
  .set("indigo", rgbn(0x4b0082))
  .set("ivory", rgbn(0xfffff0))
  .set("khaki", rgbn(0xf0e68c))
  .set("lavender", rgbn(0xe6e6fa))
  .set("lavenderblush", rgbn(0xfff0f5))
  .set("lawngreen", rgbn(0x7cfc00))
  .set("lemonchiffon", rgbn(0xfffacd))
  .set("lightblue", rgbn(0xadd8e6))
  .set("lightcoral", rgbn(0xf08080))
  .set("lightcyan", rgbn(0xe0ffff))
  .set("lightgoldenrodyellow", rgbn(0xfafad2))
  .set("lightgray", rgbn(0xd3d3d3))
  .set("lightgreen", rgbn(0x90ee90))
  .set("lightgrey", rgbn(0xd3d3d3))
  .set("lightpink", rgbn(0xffb6c1))
  .set("lightsalmon", rgbn(0xffa07a))
  .set("lightseagreen", rgbn(0x20b2aa))
  .set("lightskyblue", rgbn(0x87cefa))
  .set("lightslategray", rgbn(0x778899))
  .set("lightslategrey", rgbn(0x778899))
  .set("lightsteelblue", rgbn(0xb0c4de))
  .set("lightyellow", rgbn(0xffffe0))
  .set("lime", rgbn(0x00ff00))
  .set("limegreen", rgbn(0x32cd32))
  .set("linen", rgbn(0xfaf0e6))
  .set("magenta", rgbn(0xff00ff))
  .set("maroon", rgbn(0x800000))
  .set("mediumaquamarine", rgbn(0x66cdaa))
  .set("mediumblue", rgbn(0x0000cd))
  .set("mediumorchid", rgbn(0xba55d3))
  .set("mediumpurple", rgbn(0x9370db))
  .set("mediumseagreen", rgbn(0x3cb371))
  .set("mediumslateblue", rgbn(0x7b68ee))
  .set("mediumspringgreen", rgbn(0x00fa9a))
  .set("mediumturquoise", rgbn(0x48d1cc))
  .set("mediumvioletred", rgbn(0xc71585))
  .set("midnightblue", rgbn(0x191970))
  .set("mintcream", rgbn(0xf5fffa))
  .set("mistyrose", rgbn(0xffe4e1))
  .set("moccasin", rgbn(0xffe4b5))
  .set("navajowhite", rgbn(0xffdead))
  .set("navy", rgbn(0x000080))
  .set("oldlace", rgbn(0xfdf5e6))
  .set("olive", rgbn(0x808000))
  .set("olivedrab", rgbn(0x6b8e23))
  .set("orange", rgbn(0xffa500))
  .set("orangered", rgbn(0xff4500))
  .set("orchid", rgbn(0xda70d6))
  .set("palegoldenrod", rgbn(0xeee8aa))
  .set("palegreen", rgbn(0x98fb98))
  .set("paleturquoise", rgbn(0xafeeee))
  .set("palevioletred", rgbn(0xdb7093))
  .set("papayawhip", rgbn(0xffefd5))
  .set("peachpuff", rgbn(0xffdab9))
  .set("peru", rgbn(0xcd853f))
  .set("pink", rgbn(0xffc0cb))
  .set("plum", rgbn(0xdda0dd))
  .set("powderblue", rgbn(0xb0e0e6))
  .set("purple", rgbn(0x800080))
  .set("rebeccapurple", rgbn(0x663399))
  .set("red", rgbn(0xff0000))
  .set("rosybrown", rgbn(0xbc8f8f))
  .set("royalblue", rgbn(0x4169e1))
  .set("saddlebrown", rgbn(0x8b4513))
  .set("salmon", rgbn(0xfa8072))
  .set("sandybrown", rgbn(0xf4a460))
  .set("seagreen", rgbn(0x2e8b57))
  .set("seashell", rgbn(0xfff5ee))
  .set("sienna", rgbn(0xa0522d))
  .set("silver", rgbn(0xc0c0c0))
  .set("skyblue", rgbn(0x87ceeb))
  .set("slateblue", rgbn(0x6a5acd))
  .set("slategray", rgbn(0x708090))
  .set("slategrey", rgbn(0x708090))
  .set("snow", rgbn(0xfffafa))
  .set("springgreen", rgbn(0x00ff7f))
  .set("steelblue", rgbn(0x4682b4))
  .set("tan", rgbn(0xd2b48c))
  .set("teal", rgbn(0x008080))
  .set("thistle", rgbn(0xd8bfd8))
  .set("tomato", rgbn(0xff6347))
  .set("turquoise", rgbn(0x40e0d0))
  .set("violet", rgbn(0xee82ee))
  .set("wheat", rgbn(0xf5deb3))
  .set("white", rgbn(0xffffff))
  .set("whitesmoke", rgbn(0xf5f5f5))
  .set("yellow", rgbn(0xffff00))
  .set("yellowgreen", rgbn(0x9acd32));
